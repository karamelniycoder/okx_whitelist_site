<!DOCTYPE html>
<html>
<head>
    <title>üòàOKX Whitelister</title>
    <style>
        .table-container {
            display: flex;
            align-items: flex-start;
            margin-bottom: 10px;
            font-family: monospace;

        }

        .text-area-container {
            display: flex;
            margin-right: 15px;
        }

        .line-numbers {
            margin-top: 3px;
            flex-shrink: 0;
            padding-right: 3px;
            text-align: right;
        }

        textarea {
            resize: none;
        }

        h2 {
            margin-left: 20px;
        }

        #marquee-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1; /* –ü–æ–∑–≤–æ–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—É –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ–≤–µ—Ä—Ö –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        }

        #marquee-container marquee {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
        }


    </style>
</head>

<body>
<h2>Welcome, Abusers‚ù§Ô∏è</h2>
<div id="marquee-container">
    <marquee id="dynamic-marquee" scrollamount="20" direction="down" style="font-size: 50px; line-height: 100%;"></marquee>
</div>
<div class="table-container" id="table-container">

    <div class="text-area-container">
        <div class="line-numbers" id="addresses-line-numbers">
            <script>
                for (let i = 1; i <= 20; i++) {
                    document.write(i + '<br>');
                }
            </script>
        </div>
        <textarea id="addresses" rows="20" cols="50" placeholder="Addresses" autofocus
                  onpaste="splitTextOnPaste(event, 'addresses')" oninput="codeOnChange()"></textarea>
    </div>
    <div class="text-area-container">
        <div class="line-numbers" id="names-line-numbers">
            <script>
                for (let i = 1; i <= 20; i++) {
                    document.write(i + '<br>');
                }
            </script>
        </div>
        <textarea id="names" rows="20" cols="50" placeholder="Names" onpaste="splitTextOnPaste(event, 'names')"
                  oninput="codeOnChange()"></textarea>

    </div>

</div>

<textarea id="code" rows="20" cols="110" placeholder="Code" onclick="copyTextToClipboard()"
          onerror="copyTextToClipboard()" readonly></textarea>

<script>
    function splitTextOnPaste(event, element_id) {
        event.preventDefault();

        const clipboardData = event.clipboardData || window.clipboardData;
        const pastedText = clipboardData.getData('text');

        // ELEMENT

        const lines = pastedText.split('\n').slice(0, 20);

        const formattedLines = lines.map((line) => {
            return line.trim();
        });

        const textareaElement = document.getElementById(element_id);
        textareaElement.value = formattedLines.join('\n');

        // CODE
        codeOnChange()

    }

    function codeOnChange() {
        const addressesText = document.getElementById('addresses').value.split('\n');
        const formattedAddresses = addressesText
            .filter(function (address) {
                return address !== ''; // –§–∏–ª—å—Ç—Ä—É–µ–º –ø—É—Å—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            })
            .map(function (address) {
                return '"' + address + '"'
            })

        const namesText = document.getElementById('names').value.split('\n');
        const formattedNames = namesText
            .filter(function (name) {
                return name !== ''; // –§–∏–ª—å—Ç—Ä—É–µ–º –ø—É—Å—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            })
            .map(function (name) {
                return '"' + name + '"'
            })

        const formattedText = `(function() {
  const wallets = [
${formattedAddresses}
  ];

  const names = [
${formattedNames}
  ];

const walletSelectors = [];
const nameSelectors = [];

for (let i = 3; i <= 98; i += 5) {
walletSelectors.push(
 \`#scroll-box > div > div > form > div:nth-child(5) > div > div > div > div > div:nth-child(\${i}) > div.okui-form-item-control > div > div > div > div > input\`
);
}

for (let i = 5; i <= 100; i += 5) {
nameSelectors.push(
 \`#scroll-box > div > div > form > div:nth-child(5) > div > div > div > div > div:nth-child(\${i}) > div.okui-form-item-control > div > div > div > div > input\`
);
}

const addButtonSelector =
"#scroll-box > div > div > form > div:nth-child(5) > div > div > div > div > div.add-address-form-btn";


function fillInput(input, value) {
input.setAttribute('value', value);
input.dispatchEvent(new Event('input', { bubbles: true }));
}

async function addWallets() {
const scrollBox = document.getElementById('scroll-box');
for (let i = 0; i < wallets.length; i++) {
  console.log(\`–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞ \${i + 1} –∏–∑ \${wallets.length}\`);

  const addressInput = document.querySelector(walletSelectors[i]);
  const nameInput = document.querySelector(nameSelectors[i]);

  fillInput(addressInput, wallets[i]);
  await new Promise((resolve) => setTimeout(resolve, 300));

  if (names.length > 0) {
    fillInput(nameInput, names[i]);
    await new Promise((resolve) => setTimeout(resolve, 400));
  }

  if (i < wallets.length - 1) {
    const button = document.querySelector(addButtonSelector);
    button.click();
    await new Promise((resolve) => setTimeout(resolve, 300));
    scrollBox.scroll(0,scrollBox.scrollHeight)
  }
}

console.log('–ó–∞–≤–µ—Ä—à–µ–Ω–æ');
}

addWallets();
})();
`;
        document.getElementById('code').value = formattedText;

    }

    function copyTextToClipboard() {
        const textToCopy = document.getElementById('code').value;
        if (textToCopy) {
            navigator.clipboard.writeText(textToCopy)
                .then(function () {
                    alert('–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
                });
        }
    }

    function calculateMarqueeContent() {
    const marquee = document.getElementById('dynamic-marquee');
    const marqueeContainer = document.getElementById('marquee-container');
    const screenWidth = window.innerWidth;
    const smileyWidth = 72; // –®–∏—Ä–∏–Ω–∞ –æ–¥–Ω–æ–≥–æ —Å–º–∞–π–ª–∏–∫–∞ (–≤ –ø–∏–∫—Å–µ–ª—è—Ö)

    const smileysCount = Math.ceil(screenWidth / smileyWidth / 2 - 1);
    console.log(`screenWidth: ${screenWidth} | smileysCount: ${smileysCount}`)

    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫—É —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–º–∞–π–ª–∏–∫–æ–≤
    const smileys = Array(smileysCount).fill('üí∏ü§ë');
    marquee.textContent = smileys.join('');

    // marquee.textContent = (marquee.textContent +? '\n') * 3

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —à–∏—Ä–∏–Ω—É —ç–ª–µ–º–µ–Ω—Ç–∞ <marquee> —Ä–∞–≤–Ω–æ–π —à–∏—Ä–∏–Ω–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    marquee.style.width = screenWidth + 'px';
    marqueeContainer.style.width = screenWidth + 'px';
}

// –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ –æ–∫–Ω–∞
window.addEventListener('load', calculateMarqueeContent);
window.addEventListener('resize', calculateMarqueeContent);


</script>
</body>
</html>
